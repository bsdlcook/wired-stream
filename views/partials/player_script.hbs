<script type="text/javascript">let f_len={{file_count}},b_url="../../{{api_url}}/",c_id={{file_id}},f=document.getElementById("f"),s=document.getElementById("s"),p=document.getElementById("p"),f_id=document.getElementById("f_id"),f_hash=document.getElementById("f_hash");function a(){c_id++;c_id>f_len&&(c_id=1);s.src=b_url+c_id;c();d();history.pushState(null,"",c_id)}function b(){c_id--;1>c_id&&(c_id=f_len);s.src=b_url+c_id;c();d();history.pushState(null,"",c_id)}function c(){let g=new XMLHttpRequest;g.onreadystatechange=function(){let i=JSON.parse(g.responseText);document.title=i.file;f.innerHTML='Currently playing: <span style="color:var(--username)">'+i.file+"</span>";f_id.innerText="ID: ("+c_id+"/"+f_len+")";f_hash.innerText="Hash: "+i.hash;};g.open("GET",b_url+c_id+"/info/");g.send()}function d(){return s.paused?s.play()&&e("fa fa-pause"):s.pause()&e("fa fa-play")}function e(g){p.className=g}s.onended=function(){a()};</script>
